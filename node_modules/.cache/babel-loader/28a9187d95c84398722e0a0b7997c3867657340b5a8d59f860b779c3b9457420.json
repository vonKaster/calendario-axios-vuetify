{"ast":null,"code":"import HelloWorld from \"../components/HelloWorld\";\nimport axios from \"axios\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  name: \"Home\",\n  components: {\n    HelloWorld\n  },\n  data() {\n    return {\n      fecha: new Date().toISOString().substring(0, 10),\n      minimo: '1984',\n      maximo: new Date().toISOString().substring(0, 10),\n      valor: null\n    };\n  },\n  methods: {\n    ...mapMutations(['mostrarLoading', 'ocultarLoading']),\n    async getDolar(dia) {\n      console.log(dia);\n      let fechaInvertida = dia.split(['-']);\n      let ddmmyy = fechaInvertida[2] + '-' + fechaInvertida[1] + '-' + fechaInvertida[0];\n      try {\n        this.mostrarLoading({\n          titulo: 'Cargando',\n          color: 'primary'\n        });\n        let dolar = await axios.get(`https://mindicador.cl/api/dolar/${ddmmyy}`);\n        if (dolar.data.serie.length > 0) {\n          this.valor = await dolar.data.serie[0].valor;\n        } else {\n          this.valor = 'Sin resultados';\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        this.ocultarLoading();\n      }\n    }\n  },\n  created() {\n    document.title = \"Digicard | Calendario\";\n    this.getDolar(this.fecha);\n  }\n};","map":{"version":3,"mappings":"AA2BA;AACA;AACA;AAEA;EACAA;EAEAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IAEA;MACAC;MACA;MACA;MAEA;QACA;UAAAC;UAAAC;QAAA;QACA;QACA;UACA;QACA;UACA;QACA;MAIA;QACAF;MACA;QACA;MACA;IAGA;EACA;EACAG;IACAC;IACA;EACA;AACA","names":["name","components","HelloWorld","data","fecha","minimo","maximo","valor","methods","console","titulo","color","created","document"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <v-layout :wrap=\"true\">\n      <v-flex xs12>\n        <v-card>\n          <v-date-picker\n          v-model=\"fecha\"\n          class=\"mt-4\"\n          fullWidth\n          locale=\"es-AR\"\n          :min=\"minimo\"\n          :max=\"maximo\"\n          @change=\"getDolar(fecha)\"\n        ></v-date-picker>\n        </v-card>\n\n        <v-card color=\"primary\" dark>\n          <v-card-text class=\"display-1 text-center\">\n            {{valor}}\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport HelloWorld from \"../components/HelloWorld\";\nimport axios from \"axios\";\nimport { mapMutations } from \"vuex\";\n\nexport default {\n  name: \"Home\",\n\n  components: {\n    HelloWorld,\n  },\n  data(){\n    return{\n      fecha: new Date().toISOString().substring(0, 10),\n      minimo: '1984',\n      maximo: new Date().toISOString().substring(0, 10),\n      valor: null\n    }\n  },\n  methods: {\n    ...mapMutations(['mostrarLoading', 'ocultarLoading']),\n\n    async getDolar(dia){\n      console.log(dia)\n      let fechaInvertida = dia.split(['-']);\n      let ddmmyy = fechaInvertida[2]+ '-' +fechaInvertida[1] + '-' + fechaInvertida[0];\n\n      try {\n        this.mostrarLoading({titulo:'Cargando', color:'primary'})\n        let dolar = await axios.get(`https://mindicador.cl/api/dolar/${ddmmyy}`);\n        if(dolar.data.serie.length > 0) {\n          this.valor = await dolar.data.serie[0].valor;\n        } else {\n          this.valor = 'Sin resultados'\n        }\n\n\n\n      } catch (error) {\n        console.log(error);\n      } finally {\n        this.ocultarLoading()\n      }\n\n\n    }\n  },\n  created(){\n    document.title = \"Digicard | Calendario\"\n    this.getDolar(this.fecha)\n  }\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}